# 🗓️ 스케줄 및 차량 시간 관리 로직 (Schedule Management)

에듀매니저의 핵심 비즈니스 로직인 수업 시간(Class Slot)과 차량 운행 시간(Shuttle Time)의 관계 및 관리 방법을 정의합니다.

---

## 1. 개념 정의

### 1.1 수업 회차 (Class Slot)
학원에서 운영하는 표준화된 수업 시간 단위입니다.
- **필드**: 교시 ID, 명칭(예: 1교시), 시작 시간, 종료 시간.
- **목적**: 학생마다 제각각인 등원 시간을 표준화하여 차량 배차 및 출결 관리의 효율성을 높임.

### 1.2 차량 타임 (Shuttle Time)
차량 운행의 상위 그룹 단위입니다. 특정 수업 회차(등원/하원)에 맞춰 구성됩니다.
- **필드**: 타임 ID, 명칭(예: 1호차 3시 등원), 대표 시간, 타입(등원/하원).
- **목적**: 여러 개의 세부 노선을 하나의 운행 단위로 묶어 관리.

### 1.3 차량 노선 (Shuttle Route)
차량 타임에 속한 실제 주행 경로입니다.
- **필드**: 노선 ID, 상위 타임 ID, 명칭(예: A코스), 방식(고정/변형), 정류장 목록.
- **목적**: 실시간 승하차 체크 및 경로 최적화.

---

## 2. 관리 및 운영 플로우

### 2.1 스케줄 설정 (Admin)
1. **수업 시간표 구성**: 학원의 기본 교시 정보를 등록합니다.
2. **차량 타임 및 노선 생성**:
    - 각 교시의 시작/종료 시간에 맞춰 `Shuttle Time`을 생성합니다.
    - 해당 타임에 운행할 세부 `Route`와 정류장을 정의합니다.

### 2.2 원생 배정 (Matching)
1. **수업 배정**: 학생의 요일별 수업 회차(Class Slot)를 선택합니다.
2. **차량 추천 및 연결**:
    - 선택한 수업 시간과 연동된 `Shuttle Time` 목록이 추천됩니다.
    - 관리자는 추천된 타임 내의 특정 `Route`와 `Stop`을 선택하여 배정을 완료합니다.

### 2.3 실시간 운행 (Driver & Teacher)
- **Driver**: 선택한 `Shuttle Time` 내의 노선을 따라 운행하며 승하차를 체크합니다.
- **Teacher**: 각 `Class Slot`별로 구성된 출석부를 통해 실시간 학생 상태를 확인합니다.

---

## 3. 데이터 관계도 (ERD 요약)

```mermaid
erDiagram
    CLASS-SLOT ||--o{ STUDENT-SCHEDULE : "mapped to"
    SHUTTLE-TIME ||--|{ SHUTTLE-ROUTE : "contains"
    SHUTTLE-TIME ||--o{ STUDENT-SCHEDULE : "associated with"
    SHUTTLE-ROUTE ||--o{ STUDENT-SCHEDULE : "specific route"
    STUDENT-SCHEDULE }|--|| STUDENT : "belongs to"
```

---

## 4. 기대 효과
- **데이터 일관성**: 수업 시간 변경 시 관련 차량 배차 정보를 일괄적으로 식별 가능.
- **UX 편의성**: 원생 등록 시 복잡한 시간 입력 없이 추천 시스템을 통한 빠른 배차 가능.
- **확장성**: 향후 다수 차량 및 복잡한 노선 운영 시에도 체계적인 관리 가능.
